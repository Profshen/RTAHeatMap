<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v1.0.0-rc.1/leaflet.css" />
<script src="http://cdn.leafletjs.com/leaflet/v1.0.0-rc.1/leaflet.js"></script> 

  <script src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
    </head>
<body>

    <div id="mapid" style="width: 80%; height: 600px; border: 1px solid #ccc;"></div>

        <script>


        var basemap = new L.TileLayer('http://{s}.tiles.mapbox.com/v3/skorasaurus.e5ff1f07/{z}/{x}/{y}.png', {maxZoom: 20});
                var latlng = new L.LatLng(41.4118,-81.71);
                
                var themap = new L.Map('mapid', {center: latlng, zoom: 10.5, layers: [basemap]});


        function t3hStyle(thefeature) {
                return { 
                    stroke: false, 
                    weight: 1.02,
                    opacity: 0.54,
                    // color: 'gray',
                    // fillColor: '#800026',
                    fillColor: getFillColor(thefeature.properties.index), 
                    fillOpacity: 0.7
                }
           }

       
       function getFillColor(deez) {
                var returnedColor; 
                  if (deez === 0) {
                    returnedColor = '#e6e2ed'; 
                  }
                  else if (deez === 1) {
                    returnedColor = '#ced5e8'; 
                  }
                  else if (deez === 2) {
                    returnedColor = '#a4bedb'; 
                  }
                  else if (deez === 3) {
                    returnedColor = '#4395c3'; 
                  }
                  else if (deez === 4) {
                    returnedColor = '#1d7bad'; 
                  }
                  else returnedColor = '#045a8d'
                  return returnedColor
       }


              // for others to get a brief update of why I'm using jquery see http://lyzidiamond.com/posts/external-geojson-and-leaflet-the-other-way      
    $.getJSON("contours-v7-simplified5.geojson", function(data) {
        var thegeojson = L.geoJson(data, {
            style: t3hStyle,
            onEachFeature: function (tefeature, telayer) {
              telayer.bindPopup("this is in the" + tefeature.properties.index + " quintile")
              }
        }) 
    thegeojson.addTo(themap);  
    })
      




            </script>
        
        

</div>
</body>
</html>